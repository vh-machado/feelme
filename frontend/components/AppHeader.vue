<template>
  <div class="flex border-b border-slate-600 bg-dark-purple items-center p-2">
    <ULink to="/" class="px-4 font-k2d font-bold text-2xl">
      Feel<span class="text-indigo-300">me</span>
    </ULink>
    
    <UHorizontalNavigation :links="links" class="px-4">
      <template #default="{ link }">
        <span class="font-semibold group-hover:text-indigo-300 relative">{{ link.label }}</span>
      </template>
    </UHorizontalNavigation>
  </div>
</template>

<script setup lang="ts">
import { storeToRefs } from 'pinia'

import { useAuthStore } from '~/store/auth'
import { useSessionStore } from '~/store/session'

const { logUserOut } = useAuthStore()
const { user } = storeToRefs(useSessionStore());

const links = [
  [{
    label: 'Filmes',
    icon: 'i-mingcute:film-fill',
    to: 'films'
  }, {
    label: 'Cr√≠ticas',
    icon: 'i-mingcute:message-3-fill',
    to: 'reviews'
  }], [{
    label: user.value.nickname,
    avatar: { src: 'https://avatars.githubusercontent.com/u/73856054?v=4' }
  }, {
    label: 'Logout',
    to: 'login',
    click: logUserOut
  }]
]
</script>